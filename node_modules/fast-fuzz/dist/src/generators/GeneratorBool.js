"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GeneratorBool = void 0;
const limits_1 = require("../utils/limits");
const Generator_1 = require("./Generator");
const Mode_1 = require("./Mode");
class GeneratorBool extends Generator_1.Generator {
    constructor(dimension = 0, index) {
        super(dimension, new limits_1.Limits({}), [], index);
        this.falsyLiterals = this.falsyLiterals.concat([false]);
    }
    generate(count) {
        const result = [];
        switch (Generator_1.Generator.mode) {
            case Mode_1.Mode.Falsy:
                for (let index = 0; index < count; index++) {
                    result.push(this.falsyLiterals[Generator_1.Generator.getRandomIndex(this.falsyLiterals.length)]);
                }
                break;
            case Mode_1.Mode.Stuff:
            default:
                for (let index = 0; index < count; index++) {
                    if (Math.random() > Generator_1.Generator.P_FALSY) {
                        result.push(this.falsyLiterals[Generator_1.Generator.getRandomIndex(this.falsyLiterals.length)]);
                        continue;
                    }
                    result.push(!!Generator_1.Generator.getRandomIndex(2));
                }
                break;
        }
        return result;
    }
    next() {
        return Generator_1.Generator.next(this).result;
    }
}
exports.GeneratorBool = GeneratorBool;
